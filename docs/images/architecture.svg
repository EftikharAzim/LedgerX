<svg xmlns="http://www.w3.org/2000/svg" width="720" height="480" viewBox="0 0 720 480">
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5">
      <path d="M0 0 L10 5 L0 10 z" fill="#333" />
    </marker>
  </defs>

  <rect x="0" y="0" width="720" height="480" fill="#fff" />

  <text x="20" y="30" style="font-size:16px; font-weight:700; fill:#0b1220">LedgerX — Architecture</text>
  <text x="20" y="46" style="font-size:10px; fill:#52606d">Single Go binary — API, Worker, Scheduler, Outbox</text>

  <rect x="260" y="70" width="200" height="36" rx="6" fill="#e6fffa" stroke="#06b6d4" />
  <text x="360" y="94" text-anchor="middle" style="font-size:12px; fill:#0b1220">Clients (Web / Mobile)</text>

  <rect x="80" y="140" width="560" height="100" rx="8" fill="#eef2ff" stroke="#4f46e5" />
  <text x="360" y="162" text-anchor="middle" style="font-size:13px; font-weight:600; fill:#0b1220">LedgerX — Single Binary</text>
  <text x="360" y="178" text-anchor="middle" style="font-size:10px; fill:#52606d">API - Auth - Rate-limit - Business logic</text>

  <rect x="110" y="190" width="120" height="20" rx="6" fill="#fff" stroke="#94a3b8" />
  <text x="170" y="204" text-anchor="middle" style="font-size:10px; fill:#0b1220">API Server</text>

  <rect x="280" y="190" width="120" height="20" rx="6" fill="#fff" stroke="#94a3b8" />
  <text x="340" y="204" text-anchor="middle" style="font-size:10px; fill:#0b1220">Asynq Worker</text>

  <rect x="450" y="190" width="120" height="20" rx="6" fill="#fff" stroke="#94a3b8" />
  <text x="510" y="204" text-anchor="middle" style="font-size:10px; fill:#0b1220">Scheduler</text>

  <rect x="260" y="220" width="200" height="20" rx="6" fill="#fff" stroke="#94a3b8" />
  <text x="360" y="234" text-anchor="middle" style="font-size:10px; fill:#0b1220">Outbox Publisher</text>

  <path d="M360 106 V 140" stroke="#333" stroke-width="1" fill="none" marker-end="url(#arrow)" />

  <rect x="80" y="260" width="220" height="56" rx="8" fill="#fff7ed" stroke="#f97316" />
  <text x="190" y="288" text-anchor="middle" style="font-size:12px; fill:#0b1220">PostgreSQL</text>
  <text x="190" y="304" text-anchor="middle" style="font-size:9px; fill:#52606d">Transactions, Outbox, Snapshots</text>

  <rect x="420" y="260" width="220" height="56" rx="8" fill="#fff7ed" stroke="#f97316" />
  <text x="530" y="288" text-anchor="middle" style="font-size:12px; fill:#0b1220">Redis (Asynq)</text>
  <text x="530" y="304" text-anchor="middle" style="font-size:9px; fill:#52606d">Job Queue, Cache, Rate-limit</text>

  <path d="M 200 236 V 260" stroke="#333" stroke-width="1" fill="none" marker-end="url(#arrow)" />
  <path d="M 520 236 V 260" stroke="#333" stroke-width="1" fill="none" marker-end="url(#arrow)" />

  <rect x="40" y="340" width="200" height="44" rx="8" fill="#f8fafc" stroke="#64748b" />
  <text x="140" y="366" text-anchor="middle" style="font-size:11px; fill:#0b1220">Observability (Prometheus, Zap)</text>

  <rect x="480" y="340" width="200" height="44" rx="8" fill="#f8fafc" stroke="#64748b" />
  <text x="580" y="366" text-anchor="middle" style="font-size:11px; fill:#0b1220">CSV Exports (Asynq -> disk)</text>

  <text x="20" y="440" style="font-size:10px; fill:#52606d">Runtime: single binary. Goroutines: API, Worker, Scheduler, Outbox. Datastores: Postgres, Redis (Asynq).</text>

</svg>
